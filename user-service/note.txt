sls plugin install --name serverless-plugin-typescript
serverless package
npm install --dev @types/aws-lambda
yarn add class-transformer class-validator
yarn add bcrypt && yarn add --dev @types/bcrypt
yarn add pg
yarn add --dev @types/pg
yarn add jsonwebtoken && yarn add --dev @types/jsonwebtoken
yarn add twilio

// setting up postgres container
docker ps
docker run -d --name postgres-container -e POSTGRES_USER=root -e POSTGRES_PASSWORD=root -e POSTGRES_DB=user_service -p 5432:5432 postgres:latest
docker start user_service
//correcting POSTGRES_USER
docker exec -it user_service psql -U postgres
CREATE USER root WITH PASSWORD 'root'
ALTER USER root WITH SUPERUSER
GRANT ALL PRIVILEGES ON DATABASE postgres TO root
\q =>  To exit.

psql -h 127.0.0.1 -U root -p 5432 -d postgres

// CLEAR BUILD OR SERVERLESS FOLDER
rm -rf .serverless .build

To undo git init:
- dir /a
- ls -a
- rm -rf .git

verify if it's disabled:
- git status

creating a new repo
- git init
- git add . (to stage all files)
- git commit -m "initial commit"(first commit)
- git remote add origin(link to the repo)
- git push -u origin main

to fix error with code not displaying in repo:
- git pull origin main --allow-unrelated-histories

to stop tracking .build:
- git rm --cached .build -r
- git commit -m "Stop .build"

RESOLVE GIT PROTECTION ERROR 
 https://docs.github.com/en/code-security/secret-scanning/working-with-secret-scanning-and-push-protection/working-with-push-protection-from-the-command-line#removing-a-secret-introduced-by-an-earlier-commit-on-your-branch


//EDIT MAKEFILE
nano Makefile

// INSTALL MIGRATE
npm install -g db-migrate //RUN IN BASH AS ADMINISTRATOR

//check for existence of makefile
ls -l Makefile
make create_migration name=cart_n_cart_items

//TO START UBUNTU
wsl -d Ubuntu-24.04

// LIST ALL THE WSL
wsl --list --verbose


// HOW TO CHECK PROCESSS:
netstat -aon | grep 3000

// FOR A MORE PRECISE CHECK
netstat -aon | findstr :3000

//IDENTIFY THE PROCESS
tasklist | findstr <PID>

//setting up UBUNTU
wsl -d Ubuntu-24.04
wsl --list --all
wsl --set-default Ubuntu-24.04
wsl --update
sudo apt update && sudo apt upgrade -y


ipconfig
netsh winsock reset
netsh int ip reset all
ipconfig /flushdns

[wsl2]
networkingMode=mirrored
localhostForwarding=true

//docker stop and restart
net stop com.docker.service
net start com.docker.service
cd "C:\Program Files\Docker\Docker"
.\Docker Desktop.exe

CONFIGURING AWS IN THE TERMINAL
 - RUN aws configure then input your access key and secret

Check WSL Integration in Docker:
Open Docker Desktop (if it starts) and go to Settings > Resources > WSL Integration.
Ensure Ubuntu-24.04 is enabled as a WSL distro for Docker.
If itâ€™s missing, refresh the list by toggling WSL integration off and on.

  docker context ls
  docker context use desktop-linux
  docker pull postgres:latest

  wsl --terminate Ubuntu-24.04
  wsl --unregister Ubuntu-24.04

// docker image backup
  docker save -o image_backup.tar image_name

  docker-compose down
  docker volume rm user-service_user-data


docker exec -it user_service psql -U root -h 127.0.0.1 -p 5432 -d user_service


SQL
CREATE USER root WITH PASSWORD 'root';
GRANT ALL PRIVILEGES ON DATABASE user_service TO root;

WSL COMMAND

# Set Ubuntu as default
wsl --set-default Ubuntu

# List distributions
wsl --list --verbose

# Update WSL
wsl --update

# Shutdown WSL
wsl --shutdown

# Unregister Docker distributions
wsl --unregister docker-desktop
wsl --unregister docker-desktop-data

# Test Docker
docker run hello-world


HOW TO CONFIGURE POSTGRES TO AUTO-START ON STARTUP
sc query postgresql-x64-17
sc config postgresql-x64-17 start=auto
sc qc postgresql-x64-17

INCASE OF A TIMEOUT ERROR NEXT TIME
net start | find "postgresql"
netstat -a -n | find "5432"
psql -U root -d user_service -h localhost -p 5432

psql -U root -d user_service
DROP TABLE IF EXISTS users CASCADE;
\d users
DELETE FROM migrations WHERE name = '/20250929004302-initialize';
\q